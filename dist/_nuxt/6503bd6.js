(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{364:function(t,e,n){var content=n(377);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("1ca29e73",content,!0,{sourceMap:!1})},375:function(t,e,n){"use strict";var d=n(2),r=n(89).find,o=n(138),c="find",l=!0;c in[]&&Array(1).find((function(){l=!1})),d({target:"Array",proto:!0,forced:l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},376:function(t,e,n){"use strict";n(364)},377:function(t,e,n){var d=n(16)(!1);d.push([t.i,".product-detail[data-v-4ed83144]{color:#000}.product-detail_row[data-v-4ed83144]{display:flex;width:100%}@media(max-width:680px){.product-detail_row[data-v-4ed83144]{flex-direction:column;align-items:center}}.product-detail_details[data-v-4ed83144]{margin-left:24px;height:100%;flex:1;width:100%}@media(max-width:680px){.product-detail_details[data-v-4ed83144]{margin-left:0;margin-top:24px}}.product-detail_details .add-to-cart[data-v-4ed83144]{padding:24px 0;border-top:1px solid rgba(0,0,0,.2)}.product-detail_details .buttons-wrapper[data-v-4ed83144]{display:flex;grid-gap:10px;gap:10px;flex-wrap:wrap}.image[data-v-4ed83144]{width:400px;height:auto;border-radius:4px}.image_hide[data-v-4ed83144]{display:none}.image_show[data-v-4ed83144]{display:block}@media(max-width:680px){.image[data-v-4ed83144]{width:100%}}.title[data-v-4ed83144]{font-size:32px}.section[data-v-4ed83144]{background:hsla(0,0%,100%,.2);padding:24px;border-radius:4px;box-shadow:0 0 11px rgba(33,33,33,.2)}@media(max-width:850px){.section[data-v-4ed83144]{padding:12px}}.section .subtitle[data-v-4ed83144]{font-size:28px;margin-bottom:8px}@media(max-width:850px){.section .subtitle[data-v-4ed83144]{font-size:20px}}.section .description[data-v-4ed83144]{font-size:18px;color:rgba(0,0,0,.6)}@media(max-width:850px){.section .description[data-v-4ed83144]{font-size:14px}}.label[data-v-4ed83144]{color:rgba(0,0,0,.4);margin-bottom:6px}.field-wrapper[data-v-4ed83144]{width:60px}",""]),t.exports=d},392:function(t,e,n){"use strict";n.r(e);var d=n(9),r=(n(50),n(375),n(14),n(32),n(29),n(40),n(139),n(113),n(41),n(359)),o=n.n(r),c={name:"ProductDetailPage",data:function(){return{quantity:0,quantities:[1,2,3,4,5,6],servingSizes:[],serving:0,product:null,weights:[],imageLoaded:!1,selectedImage:null,imageIndex:0}},mounted:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,d,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.client=o.a.buildClient({domain:"jivana-spices.myshopify.com",storefrontAccessToken:"a690ca678ddc3b84bbbf089ce89b81e3"}),d="gid://shopify/Product/".concat(t.$route.params.id),e.next=4,t.client.product.fetch(d);case 4:t.product=e.sent,t.selectedImage=null===(n=t.product.images[t.imageIndex])||void 0===n?void 0:n.src,r=t.product.options.find((function(t){return"Serving"===t.name})),c=t.product.options.find((function(t){return"Weight"===t.name})),r&&r.values.forEach((function(e){return t.servingSizes.push(e.value)})),c&&c.values.forEach((function(e){return t.weights.push(e.value)})),console.log(t.weights),console.log(t.product);case 12:case"end":return e.stop()}}),e)})))()},computed:{hasWeight:function(){var t=!1;return this.product.options.forEach((function(option){"Weight"===option.name&&(t=!0)})),t},selected:function(){var t=this;return function(e,n){return t[n]===e}},getPrice:function(){return Number(this.product.variants[0].price.amount).toFixed(2)},getTotal:function(){return Number(this.getPrice*(this.quantity+1)).toFixed(2)},userCart:function(){return localStorage.getItem("jivana_cart")}},methods:{addToCart:function(){var t,e=this,n=[];this.userCart&&(n=JSON.parse(this.userCart));var d=n.find((function(t){return t.id===e.product.variants[0].id}));d?d.quantity=this.quantity+1:n.push({id:this.product.variants[0].id,name:this.product.title,thumbnail:null===(t=this.product.images[0])||void 0===t?void 0:t.src,quantity:this.quantity+1}),localStorage.setItem("jivana_cart",JSON.stringify(n)),this.$nuxt.$emit("updateCart")},updateImage:function(){var t;this.imageIndex!==this.product.images.length-1?this.imageIndex++:this.imageIndex=0,console.log(this.product.images.length,this.imageIndex),this.selectedImage=null===(t=this.product.images[this.imageIndex])||void 0===t?void 0:t.src},loadImage:function(){var t=this;setTimeout((function(){return t.imageLoaded=!0}),200)},select:function(t,e){this[e]=t}}},l=(n(376),n(3)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container container_spacing"},[t.product?e("div",{staticClass:"product-detail"},[e("div",{staticClass:"product-detail_row mb-24"},[t.selectedImage?e("img",{staticClass:"image",class:t.imageLoaded?"image_show":"image_hide",attrs:{src:t.selectedImage,alt:""},on:{click:t.updateImage,load:t.loadImage}}):e("div",[t._v("Upload Image")]),t._v(" "),t.product.images.length&&!t.imageLoaded?e("div",{staticClass:"flex center align-center image"},[e("Spinner",{attrs:{colour:"black"}})],1):t._e(),t._v(" "),e("div",{staticClass:"product-detail_details"},[e("div",{staticClass:"title mb-24"},[t._v(t._s(t.product.title))]),t._v(" "),t.hasWeight?e("div",{staticClass:"label"},[t._v("Weight")]):t._e(),t._v(" "),t.hasWeight?e("div",{staticClass:"mb-24"},[t._v(t._s(t.weights[0]))]):t._e(),t._v(" "),e("div",{staticClass:"label"},[t._v("Quantity")]),t._v(" "),e("div",{staticClass:"buttons-wrapper mb-24"},t._l(t.quantities,(function(i,n){return e("Button",{key:"quantity_".concat(n),attrs:{width:"40px",height:"40px",text:i,background:t.selected(n,"quantity")?"black":"transparent",border:"1px solid black","text-colour":t.selected(n,"quantity")?"white":"black","border-radius":"4px"},on:{click:function(e){return t.select(n,"quantity")}}})})),1),t._v(" "),e("div",{staticClass:"label"},[t._v("Serving Size (People)")]),t._v(" "),e("div",{staticClass:"buttons-wrapper mb-24"},t._l(t.servingSizes,(function(i,n){return e("Button",{key:"serving_".concat(n),attrs:{width:"40px",height:"40px",text:i,background:t.selected(n,"serving")?"black":"transparent",border:"1px solid black","text-colour":t.selected(n,"serving")?"white":"black","border-radius":"4px"},on:{click:function(e){return t.select(n,"serving")}}})})),1),t._v(" "),e("div",{staticClass:"flex space-between align-center add-to-cart"},[e("div",{staticClass:"total"},[e("div",{staticClass:"label"},[t._v("Total")]),t._v(" "),e("div",[t._v("Â£"+t._s(t.getTotal))])]),t._v(" "),e("Button",{attrs:{text:"Add to cart",background:"black",border:"1px solid black","text-colour":"white",height:"40px","border-radius":"4px"},on:{click:t.addToCart}})],1)])]),t._v(" "),e("div",{staticClass:"section mb-24"},[e("div",{staticClass:"subtitle"},[t._v("What's it all about?")]),t._v(" "),e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.product.descriptionHtml)}})])]):e("div",{staticClass:"flex align-center w-100 center"},[e("Spinner",{attrs:{colour:"black"}})],1)])}),[],!1,null,"4ed83144",null);e.default=component.exports;installComponents(component,{Spinner:n(232).default,Button:n(88).default})}}]);