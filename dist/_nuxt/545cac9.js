(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{357:function(t,e,n){"use strict";var r=n(2),c=n(89).find,o=n(139),d="find",l=!0;d in[]&&Array(1).find((function(){l=!1})),r({target:"Array",proto:!0,forced:l},{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o(d)},361:function(t,e,n){var content=n(373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("1304c436",content,!0,{sourceMap:!1})},372:function(t,e,n){"use strict";n(361)},373:function(t,e,n){var r=n(18)(!1);r.push([t.i,".checkout[data-v-3a0310c9]{background:rgba(0,0,0,.05);border:1px solid rgba(0,0,0,.2)}.checkout .summary[data-v-3a0310c9]{font-size:36px;color:#000;padding:24px 20px}.checkout .summary span[data-v-3a0310c9]{font-size:20px;color:rgba(0,0,0,.5);vertical-align:middle}.item[data-v-3a0310c9]{color:#000;padding:0 20px;border-radius:2px}.item .total[data-v-3a0310c9]{font-size:18px;color:rgba(0,0,0,.7);width:60px;text-align:center}.item .remove[data-v-3a0310c9],.item .total[data-v-3a0310c9]{margin-left:48px}.item .content[data-v-3a0310c9]{display:flex;align-items:center;padding-bottom:12px}.item[data-v-3a0310c9]:not(:last-child){margin-bottom:12px}.item .right-content[data-v-3a0310c9]{margin-left:48px;display:flex;align-items:center;justify-content:space-between;width:100%}.item .title[data-v-3a0310c9]{font-size:24px;margin-bottom:8px}.item .label[data-v-3a0310c9]{color:rgba(0,0,0,.6)}.item .quantity-wrapper[data-v-3a0310c9]{display:flex;align-items:center}.item .quantity-wrapper .quantity[data-v-3a0310c9]{background:hsla(0,0%,100%,.7);padding:0 4px;border-radius:4px;width:30px;text-align:center}.item .quantity-wrapper .btn[data-v-3a0310c9]:first-child{margin-right:8px}.item .quantity-wrapper .btn[data-v-3a0310c9]:nth-child(3){margin-left:8px}.item .thumbnail[data-v-3a0310c9]{height:100px;min-width:100px;border-radius:4px}",""]),t.exports=r},391:function(t,e,n){"use strict";n.r(e);n(32);var r=n(9),c=(n(50),n(138),n(14),n(29),n(33),n(357),n(25),n(51),n(356)),o=n.n(c),d={name:"CheckoutPage",data:function(){return{products:[]}},mounted:function(){this.products=JSON.parse(localStorage.getItem("jivana_cart"))},computed:{getTotal:function(){return function(t){return(t.price*t.quantity).toFixed(2)}},items:function(){var t=0;return this.products.forEach((function(e){return t+=e.quantity})),t}},methods:{remove:function(t){this.products=this.products.filter((function(e){return e.id!==t.id})),localStorage.setItem("jivana_cart",JSON.stringify(this.products)),this.$nuxt.$emit("updateCart")},updateQuantity:function(t,e){var n="remove"===e,r=this.products,c=r.find((function(e){return e.id===t}));n&&1===c.quantity||(n?c.quantity-=1:c.quantity+=1,localStorage.setItem("jivana_cart",JSON.stringify(r)),this.$nuxt.$emit("updateCart"))},checkout:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.a.buildClient({domain:"jivana-spices.myshopify.com",storefrontAccessToken:"a690ca678ddc3b84bbbf089ce89b81e3"}),t.next=3,e.checkout.create();case 3:return n=t.sent,r=JSON.parse(localStorage.getItem("jivana_cart")),c=[],r.forEach((function(t){return c.push({variantId:t.id,quantity:t.quantity})})),t.prev=7,t.next=10,e.checkout.addLineItems(n.id,c);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(7),console.log(t.t0),t.abrupt("return");case 16:window.location.replace(n.webUrl);case 17:case"end":return t.stop()}}),t,null,[[7,12]])})))()}}},l=(n(372),n(5)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container container_spacing"},[e("div",{staticClass:"checkout"},[e("div",{staticClass:"summary"},[t._v("Order summary "),e("span",[t._v("("+t._s(t.items)+" items)")])]),t._v(" "),t._l(t.products,(function(n,r){return e("div",{key:"product_".concat(r),staticClass:"item"},[e("div",{staticClass:"content"},[e("img",{staticClass:"thumbnail",attrs:{src:n.thumbnail,alt:""}}),t._v(" "),e("div",{staticClass:"right-content"},[e("div",[e("div",{staticClass:"title"},[t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),e("div",{staticClass:"label"},[t._v("£"+t._s(n.price))])]),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"quantity-wrapper"},[e("Button",{staticClass:"btn",attrs:{text:"-",background:"black","text-colour":"white","border-radius":"4px",height:"20px"},on:{click:function(e){return t.updateQuantity(n.id,"remove")}}}),t._v(" "),e("div",{staticClass:"quantity"},[t._v(t._s(n.quantity))]),t._v(" "),e("Button",{staticClass:"btn",attrs:{text:"+",background:"black","text-colour":"white","border-radius":"4px",height:"20px"},on:{click:function(e){return t.updateQuantity(n.id,"add")}}})],1),t._v(" "),e("div",{staticClass:"total"},[t._v("£"+t._s(t.getTotal(n)))]),t._v(" "),e("Button",{staticClass:"remove",attrs:{text:"X",background:"transparent",border:"1px solid black","text-colour":"black","border-radius":"4px"},on:{click:function(e){return t.remove(n)}}})],1)])]),t._v(" "),e("Button",{staticClass:"mt-24 mb-24",attrs:{text:"Checkout",background:"black","text-colour":"white",width:"100%",height:"40px"},on:{click:t.checkout}})],1)}))],2)])}),[],!1,null,"3a0310c9",null);e.default=component.exports;installComponents(component,{Button:n(88).default})}}]);